<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="./img/favicon.ico">

        <title>Hardening Framework</title>

        <link href="./css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="./css/prettify-1.0.css" rel="stylesheet">
        <link href="./css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href=".">Hardening Framework</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="active">
                    <a href=".">Introduction</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Coding <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="coding/contributing/">Contributing</a>
                        </li>
                    
                        <li >
                            <a href="coding/linting/">Linting</a>
                        </li>
                    
                        <li >
                            <a href="coding/headers/">File headers</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="principles/">Principles</a>
                </li>
            
            
            
                <li >
                    <a href="chef/">Chef</a>
                </li>
            
            
            
                <li >
                    <a href="puppet/">Puppet</a>
                </li>
            
            
            
                <li >
                    <a href="faq/">FAQ</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li class="disabled">
                    <a rel="next" >
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="coding/contributing/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#automatic-server-hardening">Automatic server hardening</a></li>
        
            <li><a href="#vision-goal">Vision / Goal</a></li>
        
            <li><a href="#scope">Scope</a></li>
        
            <li><a href="#lifecycle">Lifecycle</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="automatic-server-hardening">Automatic server hardening</h1>
<p>Server hardening is a well-known topic with many guides out in the wild. Why this project?</p>
<p>At Deutsche Telekom we need to manage thousands of servers for customers and ourselves. All servers need to be configured properly and maintained, which is difficult and time-consuming to get right.</p>
<p>To answer these needs for security, compliance, and maintainability, we decided to launch this project as a common ground for requirements and their fulfillment.</p>
<h2 id="vision-goal">Vision / Goal</h2>
<p>Our goal is simple: Create a common layer for hardening operating systems and services easily and without interference. Even if you aren't knee-deep in configuration manuals for services or the latest security recommendations, you will be able to implement and use this framework with ease.</p>
<h2 id="scope">Scope</h2>
<p>Since we use Chef and Puppet to automate our deployments, we decided to put them to work for system hardening. The hardening project is currently limited to Chef and Puppet, though extensions to other automation frameworks are welcome!</p>
<p><strong>What is part of hardening?</strong></p>
<ul>
<li>
<p><strong>Attack surface reduction</strong>: Use service configurations to remove all those components, that are often activated for legacy compatibility or simplified setups. Some default configurations these days already cover good security practices. We take a step further and make sure to deactivate all application modules, which aren't usually required. This baseline changes over time. We keep track of these developments and integrate them with this project.</p>
</li>
<li>
<p><strong>Secure configuration</strong>: It's easy enough to find a guide in a 2 minute search which will tell you to "Set this to 0 and everything will work". Without investigation, it's difficult to know what implications a few configuration lines may carry. Moreover, even a simple starting configuration can quickly make it into a production setup. To avoid these easy mistakes, we make the configuration explicit and default to a secure baseline. Many settings aren't changeable and some will yield errors and warnings with this framework.</p>
</li>
<li>
<p><strong>Core components</strong>: Anything from the basic operating system to well known databases and web servers is part of this project. We want these common building blocks to be at their optimal configuration and avoid repeated mistakes.</p>
</li>
</ul>
<p><strong>What is NOT part of hardening?</strong></p>
<ul>
<li>
<p><strong>Patch management</strong>: We track changes and will update every piece of this project to work with current and older supported versions of operating systems and applications. However, we cannot safely automate all aspects of patch management. Nevertheless, you can easily integrate hardening into your patch management lifecycle.</p>
</li>
<li>
<p><strong>Minor components</strong>: It's easy to set up a configuration for a service at some point of time and make it secure. It's much more difficult to maintain it over time and support it. We will focus on wide-spread services and components and support them with your and our feedback.</p>
</li>
<li>
<p><strong>Complex configurations</strong>: This includes: Firewall configurations, web-application firewalls, AppArmor profiles or SELinux configurations, amongst others. These are incredibly important to have in your environment, however, their configuration is too dependent on specific setups to abstracted properly. We decided to focus on those components, that are able to take a generalized into their configuration. For everything else, feel free to get in touch with us.</p>
</li>
</ul>
<h2 id="lifecycle">Lifecycle</h2>
<p>Let's take a quick look at the full lifecycle for servers and services and see where hardening fits in.</p>
<h3 id="installation-of-os">Installation of OS</h3>
<p>We recommend to install operating systems from trusted sources. This could be an operating system vendor or a trusted third party. In virtualized environments like OpenStack, the secure generation of base images is part of our daily activity. We have automated the building of RedHat, CentOS and Oracle Linux based instances.</p>
<ul>
<li><a href="https://github.com/TelekomLabs/packer-rhel">packer-rhel</a></li>
</ul>
<h3 id="hardening">Hardening</h3>
<p>We provide multiple cookbooks for chef and modules for puppet to cover this area. We use best-known guides like <a href="http://www.telekom.com/static/-/155996/7/technische-sicherheitsanforderungen-si">Deutsche Telekom (German)</a>, <a href="https://bettercrypto.org/">BetterCrypto</a> and the <a href="http://www.nsa.gov/ia/_files/os/redhat/NSA_RHEL_5_GUIDE_v4.2.pdf">NSA hardening guide</a>. For more details look into the respective <code>test-&lt;project&gt;</code> repository. Checks are implemented following these guides.</p>
<h3 id="continuous-management">Continuous management</h3>
<p>This area includes tasks like patch management, attack monitoring, and fixing known vulnerabilities. None of these areas are covered in this hardening project.</p>
<h4 id="patch-management">Patch management</h4>
<p>It is the heart of keeping your systems secure once everything is in place. So why not patch automatically on every run? We have considered this option for our hardening components but ultimately decided against it: Patches generally aren't a trivial thing to do. Even if you reduce it to security updates only, there may still be regressions which have to be weighted against benefits. Set up a patch management system of your choice.</p>
<h4 id="attack-monitoring">Attack monitoring</h4>
<p>Hardening includes a small section of compliance monitoring. Every time an attacker changes a core system configuration, you can gain insights into this through hardening. Since all of our components are tested independently, you can potentially use these tests to validate the compliance of your configuration. However, we recommend against putting too much weight on the results you get. The tests created here are written to verify hardening instructions. Attackers may still find ways to modify files in a way that gets around these checks (example: if we check <code>main.cfg</code> only, but attacker writes to <code>main.cfg.d/my.cfg</code>). Use HIDS, auditing, and monitoring systems to manage these risks.</p>
<h4 id="vulnerability-fixes">Vulnerability fixes</h4>
<p>A remainder of vulnerabilities may still remain after successful patch management. There are vulnerabilities that need mitigation before proper vendor fixes are released. We won't cover such vulnerabilities in this project. Many settings, however, are meant to reduce the attack surface and thus directly contribute to reducing the risks from unpatched vulnerabilities.</p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/prettify-1.0.min.js"></script>
        <script src="./js/base.js"></script>
    </body>
</html>